import {
  __commonJS
} from "./chunk-5WRI5ZAA.js";

// node_modules/bvi/dist/js/bvi.min.js
var require_bvi_min = __commonJS({
  "node_modules/bvi/dist/js/bvi.min.js"(exports, module) {
    !function(e, t) {
      "object" == typeof exports && "undefined" != typeof module ? module.exports = t() : "function" == typeof define && define.amd ? define(t) : (e = "undefined" != typeof globalThis ? globalThis : e || self).isvek = t();
    }(exports, function() {
      "use strict";
      function e(e2, t2) {
        var n2 = Object.keys(e2);
        if (Object.getOwnPropertySymbols) {
          var i2 = Object.getOwnPropertySymbols(e2);
          t2 && (i2 = i2.filter(function(t3) {
            return Object.getOwnPropertyDescriptor(e2, t3).enumerable;
          })), n2.push.apply(n2, i2);
        }
        return n2;
      }
      function t(t2) {
        for (var n2 = 1; n2 < arguments.length; n2++) {
          var i2 = null != arguments[n2] ? arguments[n2] : {};
          n2 % 2 ? e(Object(i2), true).forEach(function(e2) {
            a(t2, e2, i2[e2]);
          }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(t2, Object.getOwnPropertyDescriptors(i2)) : e(Object(i2)).forEach(function(e2) {
            Object.defineProperty(t2, e2, Object.getOwnPropertyDescriptor(i2, e2));
          });
        }
        return t2;
      }
      function n(e2) {
        return (n = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(e3) {
          return typeof e3;
        } : function(e3) {
          return e3 && "function" == typeof Symbol && e3.constructor === Symbol && e3 !== Symbol.prototype ? "symbol" : typeof e3;
        })(e2);
      }
      function i(e2, t2) {
        if (!(e2 instanceof t2)) throw new TypeError("Cannot call a class as a function");
      }
      function r(e2, t2) {
        for (var n2 = 0; n2 < t2.length; n2++) {
          var i2 = t2[n2];
          i2.enumerable = i2.enumerable || false, i2.configurable = true, "value" in i2 && (i2.writable = true), Object.defineProperty(e2, i2.key, i2);
        }
      }
      function o(e2, t2, n2) {
        return t2 && r(e2.prototype, t2), n2 && r(e2, n2), e2;
      }
      function a(e2, t2, n2) {
        return t2 in e2 ? Object.defineProperty(e2, t2, { value: n2, enumerable: true, configurable: true, writable: true }) : e2[t2] = n2, e2;
      }
      function c(e2, t2) {
        (null == t2 || t2 > e2.length) && (t2 = e2.length);
        for (var n2 = 0, i2 = new Array(t2); n2 < t2; n2++) i2[n2] = e2[n2];
        return i2;
      }
      !function(e2) {
        var t2 = function(e3) {
          var t3, i2 = Object.prototype, r2 = i2.hasOwnProperty, o2 = "function" == typeof Symbol ? Symbol : {}, a2 = o2.iterator || "@@iterator", c2 = o2.asyncIterator || "@@asyncIterator", l2 = o2.toStringTag || "@@toStringTag";
          function s2(e4, t4, n2) {
            return Object.defineProperty(e4, t4, { value: n2, enumerable: true, configurable: true, writable: true }), e4[t4];
          }
          try {
            s2({}, "");
          } catch (e4) {
            s2 = function(e5, t4, n2) {
              return e5[t4] = n2;
            };
          }
          function u2(e4, t4, n2, i3) {
            var r3 = t4 && t4.prototype instanceof g2 ? t4 : g2, o3 = Object.create(r3.prototype), a3 = new q(i3 || []);
            return o3._invoke = /* @__PURE__ */ function(e5, t5, n3) {
              var i4 = f2;
              return function(r4, o4) {
                if (i4 === d2) throw new Error("Generator is already running");
                if (i4 === m2) {
                  if ("throw" === r4) throw o4;
                  return H();
                }
                for (n3.method = r4, n3.arg = o4; ; ) {
                  var a4 = n3.delegate;
                  if (a4) {
                    var c3 = E(a4, n3);
                    if (c3) {
                      if (c3 === b2) continue;
                      return c3;
                    }
                  }
                  if ("next" === n3.method) n3.sent = n3._sent = n3.arg;
                  else if ("throw" === n3.method) {
                    if (i4 === f2) throw i4 = m2, n3.arg;
                    n3.dispatchException(n3.arg);
                  } else "return" === n3.method && n3.abrupt("return", n3.arg);
                  i4 = d2;
                  var l3 = v2(e5, t5, n3);
                  if ("normal" === l3.type) {
                    if (i4 = n3.done ? m2 : h2, l3.arg === b2) continue;
                    return { value: l3.arg, done: n3.done };
                  }
                  "throw" === l3.type && (i4 = m2, n3.method = "throw", n3.arg = l3.arg);
                }
              };
            }(e4, n2, a3), o3;
          }
          function v2(e4, t4, n2) {
            try {
              return { type: "normal", arg: e4.call(t4, n2) };
            } catch (e5) {
              return { type: "throw", arg: e5 };
            }
          }
          e3.wrap = u2;
          var f2 = "suspendedStart", h2 = "suspendedYield", d2 = "executing", m2 = "completed", b2 = {};
          function g2() {
          }
          function p2() {
          }
          function y2() {
          }
          var S2 = {};
          s2(S2, a2, function() {
            return this;
          });
          var _2 = Object.getPrototypeOf, k = _2 && _2(_2(x([])));
          k && k !== i2 && r2.call(k, a2) && (S2 = k);
          var w = y2.prototype = g2.prototype = Object.create(S2);
          function L(e4) {
            ["next", "throw", "return"].forEach(function(t4) {
              s2(e4, t4, function(e5) {
                return this._invoke(t4, e5);
              });
            });
          }
          function B(e4, t4) {
            function i3(o4, a3, c3, l3) {
              var s3 = v2(e4[o4], e4, a3);
              if ("throw" !== s3.type) {
                var u3 = s3.arg, f3 = u3.value;
                return f3 && "object" === n(f3) && r2.call(f3, "__await") ? t4.resolve(f3.__await).then(function(e5) {
                  i3("next", e5, c3, l3);
                }, function(e5) {
                  i3("throw", e5, c3, l3);
                }) : t4.resolve(f3).then(function(e5) {
                  u3.value = e5, c3(u3);
                }, function(e5) {
                  return i3("throw", e5, c3, l3);
                });
              }
              l3(s3.arg);
            }
            var o3;
            this._invoke = function(e5, n2) {
              function r3() {
                return new t4(function(t5, r4) {
                  i3(e5, n2, t5, r4);
                });
              }
              return o3 = o3 ? o3.then(r3, r3) : r3();
            };
          }
          function E(e4, n2) {
            var i3 = e4.iterator[n2.method];
            if (i3 === t3) {
              if (n2.delegate = null, "throw" === n2.method) {
                if (e4.iterator.return && (n2.method = "return", n2.arg = t3, E(e4, n2), "throw" === n2.method)) return b2;
                n2.method = "throw", n2.arg = new TypeError("The iterator does not provide a 'throw' method");
              }
              return b2;
            }
            var r3 = v2(i3, e4.iterator, n2.arg);
            if ("throw" === r3.type) return n2.method = "throw", n2.arg = r3.arg, n2.delegate = null, b2;
            var o3 = r3.arg;
            return o3 ? o3.done ? (n2[e4.resultName] = o3.value, n2.next = e4.nextLoc, "return" !== n2.method && (n2.method = "next", n2.arg = t3), n2.delegate = null, b2) : o3 : (n2.method = "throw", n2.arg = new TypeError("iterator result is not an object"), n2.delegate = null, b2);
          }
          function O(e4) {
            var t4 = { tryLoc: e4[0] };
            1 in e4 && (t4.catchLoc = e4[1]), 2 in e4 && (t4.finallyLoc = e4[2], t4.afterLoc = e4[3]), this.tryEntries.push(t4);
          }
          function A(e4) {
            var t4 = e4.completion || {};
            t4.type = "normal", delete t4.arg, e4.completion = t4;
          }
          function q(e4) {
            this.tryEntries = [{ tryLoc: "root" }], e4.forEach(O, this), this.reset(true);
          }
          function x(e4) {
            if (e4) {
              var n2 = e4[a2];
              if (n2) return n2.call(e4);
              if ("function" == typeof e4.next) return e4;
              if (!isNaN(e4.length)) {
                var i3 = -1, o3 = function n3() {
                  for (; ++i3 < e4.length; ) if (r2.call(e4, i3)) return n3.value = e4[i3], n3.done = false, n3;
                  return n3.value = t3, n3.done = true, n3;
                };
                return o3.next = o3;
              }
            }
            return { next: H };
          }
          function H() {
            return { value: t3, done: true };
          }
          return p2.prototype = y2, s2(w, "constructor", y2), s2(y2, "constructor", p2), p2.displayName = s2(y2, l2, "GeneratorFunction"), e3.isGeneratorFunction = function(e4) {
            var t4 = "function" == typeof e4 && e4.constructor;
            return !!t4 && (t4 === p2 || "GeneratorFunction" === (t4.displayName || t4.name));
          }, e3.mark = function(e4) {
            return Object.setPrototypeOf ? Object.setPrototypeOf(e4, y2) : (e4.__proto__ = y2, s2(e4, l2, "GeneratorFunction")), e4.prototype = Object.create(w), e4;
          }, e3.awrap = function(e4) {
            return { __await: e4 };
          }, L(B.prototype), s2(B.prototype, c2, function() {
            return this;
          }), e3.AsyncIterator = B, e3.async = function(t4, n2, i3, r3, o3) {
            void 0 === o3 && (o3 = Promise);
            var a3 = new B(u2(t4, n2, i3, r3), o3);
            return e3.isGeneratorFunction(n2) ? a3 : a3.next().then(function(e4) {
              return e4.done ? e4.value : a3.next();
            });
          }, L(w), s2(w, l2, "Generator"), s2(w, a2, function() {
            return this;
          }), s2(w, "toString", function() {
            return "[object Generator]";
          }), e3.keys = function(e4) {
            var t4 = [];
            for (var n2 in e4) t4.push(n2);
            return t4.reverse(), function n3() {
              for (; t4.length; ) {
                var i3 = t4.pop();
                if (i3 in e4) return n3.value = i3, n3.done = false, n3;
              }
              return n3.done = true, n3;
            };
          }, e3.values = x, q.prototype = { constructor: q, reset: function(e4) {
            if (this.prev = 0, this.next = 0, this.sent = this._sent = t3, this.done = false, this.delegate = null, this.method = "next", this.arg = t3, this.tryEntries.forEach(A), !e4) for (var n2 in this) "t" === n2.charAt(0) && r2.call(this, n2) && !isNaN(+n2.slice(1)) && (this[n2] = t3);
          }, stop: function() {
            this.done = true;
            var e4 = this.tryEntries[0].completion;
            if ("throw" === e4.type) throw e4.arg;
            return this.rval;
          }, dispatchException: function(e4) {
            if (this.done) throw e4;
            var n2 = this;
            function i3(i4, r3) {
              return c3.type = "throw", c3.arg = e4, n2.next = i4, r3 && (n2.method = "next", n2.arg = t3), !!r3;
            }
            for (var o3 = this.tryEntries.length - 1; o3 >= 0; --o3) {
              var a3 = this.tryEntries[o3], c3 = a3.completion;
              if ("root" === a3.tryLoc) return i3("end");
              if (a3.tryLoc <= this.prev) {
                var l3 = r2.call(a3, "catchLoc"), s3 = r2.call(a3, "finallyLoc");
                if (l3 && s3) {
                  if (this.prev < a3.catchLoc) return i3(a3.catchLoc, true);
                  if (this.prev < a3.finallyLoc) return i3(a3.finallyLoc);
                } else if (l3) {
                  if (this.prev < a3.catchLoc) return i3(a3.catchLoc, true);
                } else {
                  if (!s3) throw new Error("try statement without catch or finally");
                  if (this.prev < a3.finallyLoc) return i3(a3.finallyLoc);
                }
              }
            }
          }, abrupt: function(e4, t4) {
            for (var n2 = this.tryEntries.length - 1; n2 >= 0; --n2) {
              var i3 = this.tryEntries[n2];
              if (i3.tryLoc <= this.prev && r2.call(i3, "finallyLoc") && this.prev < i3.finallyLoc) {
                var o3 = i3;
                break;
              }
            }
            o3 && ("break" === e4 || "continue" === e4) && o3.tryLoc <= t4 && t4 <= o3.finallyLoc && (o3 = null);
            var a3 = o3 ? o3.completion : {};
            return a3.type = e4, a3.arg = t4, o3 ? (this.method = "next", this.next = o3.finallyLoc, b2) : this.complete(a3);
          }, complete: function(e4, t4) {
            if ("throw" === e4.type) throw e4.arg;
            return "break" === e4.type || "continue" === e4.type ? this.next = e4.arg : "return" === e4.type ? (this.rval = this.arg = e4.arg, this.method = "return", this.next = "end") : "normal" === e4.type && t4 && (this.next = t4), b2;
          }, finish: function(e4) {
            for (var t4 = this.tryEntries.length - 1; t4 >= 0; --t4) {
              var n2 = this.tryEntries[t4];
              if (n2.finallyLoc === e4) return this.complete(n2.completion, n2.afterLoc), A(n2), b2;
            }
          }, catch: function(e4) {
            for (var t4 = this.tryEntries.length - 1; t4 >= 0; --t4) {
              var n2 = this.tryEntries[t4];
              if (n2.tryLoc === e4) {
                var i3 = n2.completion;
                if ("throw" === i3.type) {
                  var r3 = i3.arg;
                  A(n2);
                }
                return r3;
              }
            }
            throw new Error("illegal catch attempt");
          }, delegateYield: function(e4, n2, i3) {
            return this.delegate = { iterator: x(e4), resultName: n2, nextLoc: i3 }, "next" === this.method && (this.arg = t3), b2;
          } }, e3;
        }({});
        try {
          regeneratorRuntime = t2;
        } catch (e3) {
          "object" === ("undefined" == typeof globalThis ? "undefined" : n(globalThis)) ? globalThis.regeneratorRuntime = t2 : Function("r", "regeneratorRuntime = r")(t2);
        }
      }(), [Element.prototype, Document.prototype, DocumentFragment.prototype].forEach(function(e2) {
        e2.hasOwnProperty("prepend") || Object.defineProperty(e2, "prepend", { configurable: true, enumerable: true, writable: true, value: function() {
          var e3 = Array.prototype.slice.call(arguments), t2 = document.createDocumentFragment();
          e3.forEach(function(e4) {
            var n2 = e4 instanceof Node;
            t2.appendChild(n2 ? e4 : document.createTextNode(String(e4)));
          }), this.insertBefore(t2, this.firstChild);
        } });
      }), window.NodeList && !NodeList.prototype.forEach && (NodeList.prototype.forEach = Array.prototype.forEach), window.HTMLCollection && !HTMLCollection.prototype.forEach && (HTMLCollection.prototype.forEach = Array.prototype.forEach);
      var l = function(e2) {
        switch (e2) {
          case "on":
          case "true":
          case "1":
            return true;
          default:
            return false;
        }
      }, s = function(e2, t2, n2) {
        for ("string" == typeof t2 && (t2 = document.createElement(t2)), e2.appendChild(t2).className = n2; e2.firstChild !== t2; ) t2.appendChild(e2.firstChild);
      }, u = function(e2) {
        var t2 = document.createDocumentFragment();
        if (e2) {
          for (; e2.firstChild; ) {
            var n2 = e2.removeChild(e2.firstChild);
            t2.appendChild(n2);
          }
          e2.parentNode.replaceChild(t2, e2);
        }
      }, v = function(e2, t2) {
        Object.keys(e2).forEach(function(e3) {
          "function" == typeof t2 && t2(e3);
        });
      }, f = function(e2, t2) {
        Array.from(e2).forEach(function(e3) {
          "function" == typeof t2 && t2(e3);
        });
      }, h = function() {
        return window.speechSynthesis;
      }, d = function() {
        var e2 = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : "", t2 = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : "", n2 = /* @__PURE__ */ new Date(), i2 = n2.getTime();
        i2 += 864e5, n2.setTime(i2), document.cookie = "bvi_".concat(e2, "=").concat(t2, ";path=/;expires=").concat(n2.toUTCString(), ";domain=").concat(location.host);
      }, m = function() {
        var e2 = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : "";
        e2 = "bvi_".concat(e2, "=");
        for (var t2 = decodeURIComponent(document.cookie), n2 = t2.split(";"), i2 = 0; i2 < n2.length; i2++) {
          var r2 = n2[i2].trim();
          if (-1 !== r2.indexOf(e2)) return r2.substring(e2.length, r2.length);
        }
      }, b = function() {
        var e2 = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : "";
        document.cookie = "bvi_".concat(e2, "=;path=/;expires=Thu, 01 Jan 1970 00:00:01 GMT;domain=").concat(location.host);
      }, g = { "ru-RU": { text: { fontSize: "Размер шрифта", siteColors: "Цвета сайта", images: "Изображения", speech: "Синтез речи", settings: "Настройки", regularVersionOfTheSite: "Обычная версия сайта", letterSpacing: "Межбуквенное расстояние", normal: "Стандартный", average: "Средний", big: "Большой", lineHeight: "Межстрочный интервал", font: "Шрифт", arial: "Без засечек", times: "С засечками", builtElements: "Встроенные элементы (Видео, карты и тд.)", on: "Включить", off: "Выключить", reset: "Сбросить настройки", plural_0: "пиксель", plural_1: "пекселя", plural_2: "пикселей" }, voice: { fontSizePlus: "Размер шрифта увели́чен", fontSizeMinus: "Размер шрифта уме́ньшен", siteColorBlackOnWhite: "Цвет сайта черным по белому", siteColorWhiteOnBlack: "Цвет сайта белым по черному", siteColorDarkBlueOnBlue: "Цвет сайта тёмно-синим по голубому", siteColorBeigeBrown: "Цвет сайта кори́чневым по бе́жевому", siteColorGreenOnDarkBrown: "Цвет сайта зеленым по тёмно-коричневому", imagesOn: "Изображения включены", imagesOFF: "Изображения выключены", imagesGrayscale: "Изображения чёрно-белые", speechOn: "Синтез речи включён", speechOff: "Синтез речи вы́ключен", lineHeightNormal: "Межстрочный интервал стандартный", lineHeightAverage: "Межстрочный интервал средний", lineHeightBig: "Межстрочный интервал большой", LetterSpacingNormal: "Интервал между буквами стандартный", LetterSpacingAverage: "Интервал между буквами средний", LetterSpacingBig: "Интервал между буквами большой", fontArial: "Шрифт без засечек", fontTimes: "Шрифт с засечками", builtElementsOn: "Встроенные элементы включены", builtElementsOFF: "Встроенные элементы выключены", resetSettings: "Установлены настройки по умолча́нию", panelShow: "Панель открыта", panelHide: "Панель скрыта", panelOn: "Версия сайта для слабови́дящий", panelOff: "Обычная версия сайта" } }, "en-US": { text: { fontSize: "Font size", siteColors: "Site colors", images: "Images", speech: "Speech synthesis", settings: "Settings", regularVersionOfTheSite: "Regular version Of The site", letterSpacing: "Letter spacing", normal: "Single", average: "One and a half", big: "Double", lineHeight: "Line spacing", font: "Font", arial: "Sans Serif - Arial", times: "Serif - Times New Roman", builtElements: "Include inline elements (Videos, maps, etc.)", on: "Enable", off: "Disabled", reset: "Reset settings", plural_0: "pixel", plural_1: "pixels", plural_2: "pixels" }, voice: { fontSizePlus: "Font size increased", fontSizeMinus: "Font size reduced", siteColorBlackOnWhite: "Site color black on white", siteColorWhiteOnBlack: "Site color white on black", siteColorDarkBlueOnBlue: "Site color dark blue on cyan", siteColorBeigeBrown: "SiteColorBeigeBrown", siteColorGreenOnDarkBrown: "Site color green on dark brown", imagesOn: "Images enable", imagesOFF: "Images disabled", imagesGrayscale: "Images gray scale", speechOn: "Synthesis speech enable", speechOff: "Synthesis speech disabled", lineHeightNormal: "Line spacing single", lineHeightAverage: "Line spacing one and a half", lineHeightBig: "Line spacing double", LetterSpacingNormal: "Letter spacing single", LetterSpacingAverage: "Letter spacing one and a half", LetterSpacingBig: "Letter spacing letter double", fontArial: "Sans Serif - Arial", fontTimes: "Serif - Times New Roman", builtElementsOn: "Include inline elements are enabled", builtElementsOFF: "Include inline elements are disabled", resetSettings: "Default settings have been set", panelShow: "Panel show", panelHide: "Panel hide", panelOn: "Site version for visually impaired", panelOff: "Regular version of the site" } } }, p = function() {
        function e2(t2) {
          i(this, e2), this._config = t2;
        }
        return o(e2, [{ key: "t", value: function(e3) {
          return g[this._config.lang].text[e3];
        } }, { key: "v", value: function(e3) {
          return g[this._config.lang].voice[e3];
        } }]), e2;
      }(), y = { target: ".bvi-open", fontSize: 16, theme: "white", images: "grayscale", letterSpacing: "normal", lineHeight: "normal", speech: true, fontFamily: "arial", builtElements: false, panelFixed: true, panelHide: false, reload: false, lang: "ru-RU" }, S = { target: "string", fontSize: "number", theme: "string", images: "(string|boolean)", letterSpacing: "string", lineHeight: "string", speech: "boolean", fontFamily: "string", builtElements: "boolean", panelFixed: "boolean", panelHide: "boolean", reload: "boolean", lang: "string" }, _ = { target: "", fontSize: "(^[1-9]$|^[1-3][0-9]?$|^39$)", theme: "(white|black|blue|brown|green)", images: "(true|false|grayscale)", letterSpacing: "(normal|average|big)", lineHeight: "(normal|average|big)", speech: "(true|false)", fontFamily: "(arial|times)", builtElements: "(true|false)", panelFixed: "(true|false)", panelHide: "(true|false)", reload: "(true|false)", lang: "(ru-RU|en-US)" };
      return { Bvi: function() {
        function e2(t2) {
          i(this, e2), this._config = this._getConfig(t2), this._elements = document.querySelectorAll(this._config.target), this._i18n = new p({ lang: this._config.lang }), this._addEventListeners(), this._init(), console.log("Bvi console: ready Button visually impaired v1.0.0");
        }
        return o(e2, [{ key: "_init", value: function() {
          v(this._config, function(e3) {
            void 0 === m(e3) && b("panelActive");
          }), l(m("panelActive")) ? (this._set(), this._getPanel(), this._addEventListenersPanel(), this._images(), this._speechPlayer(), "speechSynthesis" in window && l(m("speech")) && setInterval(function() {
            if (false === h().pending) {
              var e3 = document.querySelectorAll(".bvi-speech-play"), t2 = document.querySelectorAll(".bvi-speech-pause"), n2 = document.querySelectorAll(".bvi-speech-resume"), i2 = document.querySelectorAll(".bvi-speech-stop"), r2 = function(e4, t3) {
                e4.forEach(function(e5) {
                  return t3(e5);
                });
              };
              r2(e3, function(e4) {
                return e4.classList.remove("disabled");
              }), r2(t2, function(e4) {
                return e4.classList.add("disabled");
              }), r2(n2, function(e4) {
                return e4.classList.add("disabled");
              }), r2(i2, function(e4) {
                return e4.classList.add("disabled");
              });
            }
          }, 1e3)) : this._remove();
        } }, { key: "_addEventListeners", value: function() {
          var e3 = this;
          if (!this._elements) return false;
          this._elements.forEach(function(t2) {
            t2.addEventListener("click", function(t3) {
              t3.preventDefault(), v(e3._config, function(t4) {
                return d(t4, e3._config[t4]);
              }), d("panelActive", true), e3._init(), e3._speech("".concat(e3._i18n.v("panelOn")));
            });
          });
        } }, { key: "_addEventListenersPanel", value: function() {
          var e3 = this, t2 = { fontSizeMinus: document.querySelector(".bvi-fontSize-minus"), fontSizePlus: document.querySelector(".bvi-fontSize-plus"), themeWhite: document.querySelector(".bvi-theme-white"), themeBlack: document.querySelector(".bvi-theme-black"), themeBlue: document.querySelector(".bvi-theme-blue"), themeBrown: document.querySelector(".bvi-theme-brown"), themeGreen: document.querySelector(".bvi-theme-green"), imagesOn: document.querySelector(".bvi-images-on"), imagesOff: document.querySelector(".bvi-images-off"), imagesGrayscale: document.querySelector(".bvi-images-grayscale"), speechOn: document.querySelector(".bvi-speech-on"), speechOff: document.querySelector(".bvi-speech-off"), lineHeightNormal: document.querySelector(".bvi-line-height-normal"), lineHeightAverage: document.querySelector(".bvi-line-height-average"), lineHeightBig: document.querySelector(".bvi-line-height-big"), letterSpacingNormal: document.querySelector(".bvi-letter-spacing-normal"), letterSpacingAverage: document.querySelector(".bvi-letter-spacing-average"), letterSpacingBig: document.querySelector(".bvi-letter-spacing-big"), fontFamilyArial: document.querySelector(".bvi-font-family-arial"), fontFamilyTimes: document.querySelector(".bvi-font-family-times"), builtElementsOn: document.querySelector(".bvi-built-elements-on"), builtElementsOff: document.querySelector(".bvi-built-elements-off"), reset: document.querySelector(".bvi-reset"), links: document.querySelectorAll(".bvi-link"), modal: document.querySelector(".bvi-modal") }, n2 = function(e4) {
            var t3, n3 = function(e5, t4) {
              var n4 = "undefined" != typeof Symbol && e5[Symbol.iterator] || e5["@@iterator"];
              if (!n4) {
                if (Array.isArray(e5) || (n4 = function(e6, t5) {
                  if (e6) {
                    if ("string" == typeof e6) return c(e6, t5);
                    var n5 = Object.prototype.toString.call(e6).slice(8, -1);
                    return "Object" === n5 && e6.constructor && (n5 = e6.constructor.name), "Map" === n5 || "Set" === n5 ? Array.from(e6) : "Arguments" === n5 || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n5) ? c(e6, t5) : void 0;
                  }
                }(e5)) || t4 && e5 && "number" == typeof e5.length) {
                  n4 && (e5 = n4);
                  var i3 = 0, r3 = function() {
                  };
                  return { s: r3, n: function() {
                    return i3 >= e5.length ? { done: true } : { done: false, value: e5[i3++] };
                  }, e: function(e6) {
                    throw e6;
                  }, f: r3 };
                }
                throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");
              }
              var o2, a2 = true, l2 = false;
              return { s: function() {
                n4 = n4.call(e5);
              }, n: function() {
                var e6 = n4.next();
                return a2 = e6.done, e6;
              }, e: function(e6) {
                l2 = true, o2 = e6;
              }, f: function() {
                try {
                  a2 || null == n4.return || n4.return();
                } finally {
                  if (l2) throw o2;
                }
              } };
            }(e4.parentNode.children);
            try {
              for (n3.s(); !(t3 = n3.n()).done; ) t3.value.classList.remove("active");
            } catch (e5) {
              n3.e(e5);
            } finally {
              n3.f();
            }
            e4.classList.add("active");
          }, i2 = function(e4, t3) {
            e4.addEventListener("click", function(e5) {
              e5.preventDefault(), "function" == typeof t3 && t3(e5);
            });
          }, r2 = function() {
            document.querySelectorAll(".bvi-link").forEach(function(e4) {
              e4.classList.remove("active");
            }), v(e3._config, function(e4) {
              if ("theme" === e4) {
                var t3 = m(e4);
                document.querySelector(".bvi-theme-".concat(t3)).classList.add("active");
              }
              if ("images" === e4) {
                var n3 = "grayscale" === m(e4) ? "grayscale" : l(m(e4)) ? "on" : "off";
                document.querySelector(".bvi-images-".concat(n3)).classList.add("active");
              }
              if ("speech" === e4) {
                var i3 = l(m(e4)) ? "on" : "off";
                document.querySelector(".bvi-speech-".concat(i3)).classList.add("active");
              }
              if ("lineHeight" === e4) {
                var r3 = m(e4);
                document.querySelector(".bvi-line-height-".concat(r3)).classList.add("active");
              }
              if ("letterSpacing" === e4) {
                var o2 = m(e4);
                document.querySelector(".bvi-letter-spacing-".concat(o2)).classList.add("active");
              }
              if ("fontFamily" === e4) {
                var a2 = m(e4);
                document.querySelector(".bvi-font-family-".concat(a2)).classList.add("active");
              }
              if ("builtElements" === e4) {
                var c2 = l(m(e4)) ? "on" : "off";
                document.querySelector(".bvi-built-elements-".concat(c2)).classList.add("active");
              }
            });
          };
          r2(), i2(t2.fontSizeMinus, function() {
            var i3 = parseFloat(m("fontSize")) - 1;
            0 !== i3 && (e3._setAttrDataBviBody("fontSize", i3), d("fontSize", i3), e3._speech("".concat(e3._i18n.v("fontSizeMinus"))), n2(t2.fontSizeMinus));
          }), i2(t2.fontSizePlus, function() {
            var i3 = parseFloat(m("fontSize")) + 1;
            40 !== i3 && (e3._setAttrDataBviBody("fontSize", i3), d("fontSize", i3), e3._speech("".concat(e3._i18n.v("fontSizePlus"))), n2(t2.fontSizePlus));
          }), i2(t2.themeWhite, function() {
            e3._setAttrDataBviBody("theme", "white"), d("theme", "white"), e3._speech("".concat(e3._i18n.v("siteColorBlackOnWhite"))), n2(t2.themeWhite);
          }), i2(t2.themeBlack, function() {
            e3._setAttrDataBviBody("theme", "black"), d("theme", "black"), e3._speech("".concat(e3._i18n.v("siteColorWhiteOnBlack"))), n2(t2.themeBlack);
          }), i2(t2.themeBlue, function() {
            e3._setAttrDataBviBody("theme", "blue"), d("theme", "blue"), e3._speech("".concat(e3._i18n.v("siteColorDarkBlueOnBlue"))), n2(t2.themeBlue);
          }), i2(t2.themeBrown, function() {
            e3._setAttrDataBviBody("theme", "brown"), d("theme", "brown"), e3._speech("".concat(e3._i18n.v("siteColorBeigeBrown"))), n2(t2.themeBrown);
          }), i2(t2.themeGreen, function() {
            e3._setAttrDataBviBody("theme", "green"), d("theme", "green"), e3._speech("".concat(e3._i18n.v("siteColorGreenOnDarkBrown"))), n2(t2.themeGreen);
          }), i2(t2.imagesOn, function() {
            e3._setAttrDataBviBody("images", "true"), d("images", "true"), e3._speech("".concat(e3._i18n.v("imagesOn"))), n2(t2.imagesOn);
          }), i2(t2.imagesOff, function() {
            e3._setAttrDataBviBody("images", "false"), d("images", "false"), e3._speech("".concat(e3._i18n.v("imagesOFF"))), n2(t2.imagesOff);
          }), i2(t2.imagesGrayscale, function() {
            e3._setAttrDataBviBody("images", "grayscale"), d("images", "grayscale"), e3._speech("".concat(e3._i18n.v("imagesGrayscale"))), n2(t2.imagesGrayscale);
          }), i2(t2.speechOn, function() {
            e3._setAttrDataBviBody("speech", "true"), d("speech", "true"), e3._speech("".concat(e3._i18n.v("speechOn"))), n2(t2.speechOn), e3._speechPlayer();
          }), i2(t2.speechOff, function() {
            e3._speech("".concat(e3._i18n.v("speechOff"))), e3._setAttrDataBviBody("speech", "false"), d("speech", "false"), n2(t2.speechOff), e3._speechPlayer();
          }), i2(t2.lineHeightNormal, function() {
            e3._setAttrDataBviBody("lineHeight", "normal"), d("lineHeight", "normal"), e3._speech("".concat(e3._i18n.v("lineHeightNormal"))), n2(t2.lineHeightNormal);
          }), i2(t2.lineHeightAverage, function() {
            e3._setAttrDataBviBody("lineHeight", "average"), d("lineHeight", "average"), e3._speech("".concat(e3._i18n.v("lineHeightAverage"))), n2(t2.lineHeightAverage);
          }), i2(t2.lineHeightBig, function() {
            e3._setAttrDataBviBody("lineHeight", "big"), d("lineHeight", "big"), e3._speech("".concat(e3._i18n.v("lineHeightBig"))), n2(t2.lineHeightBig);
          }), i2(t2.letterSpacingNormal, function() {
            e3._setAttrDataBviBody("letterSpacing", "normal"), d("letterSpacing", "normal"), e3._speech("".concat(e3._i18n.v("LetterSpacingNormal"))), n2(t2.letterSpacingNormal);
          }), i2(t2.letterSpacingAverage, function() {
            e3._setAttrDataBviBody("letterSpacing", "average"), d("letterSpacing", "average"), e3._speech("".concat(e3._i18n.v("LetterSpacingAverage"))), n2(t2.letterSpacingAverage);
          }), i2(t2.letterSpacingBig, function() {
            e3._setAttrDataBviBody("letterSpacing", "big"), d("letterSpacing", "big"), e3._speech("".concat(e3._i18n.v("LetterSpacingBig"))), n2(t2.letterSpacingBig);
          }), i2(t2.fontFamilyArial, function() {
            e3._setAttrDataBviBody("fontFamily", "arial"), d("fontFamily", "arial"), e3._speech("".concat(e3._i18n.v("fontArial"))), n2(t2.fontFamilyArial);
          }), i2(t2.fontFamilyTimes, function() {
            e3._setAttrDataBviBody("fontFamily", "times"), d("fontFamily", "times"), e3._speech("".concat(e3._i18n.v("fontTimes"))), n2(t2.fontFamilyTimes);
          }), i2(t2.builtElementsOn, function() {
            e3._setAttrDataBviBody("builtElements", "true"), d("builtElements", "true"), e3._speech("".concat(e3._i18n.v("builtElementsOn"))), n2(t2.builtElementsOn);
          }), i2(t2.builtElementsOff, function() {
            e3._setAttrDataBviBody("builtElements", "false"), d("builtElements", "false"), e3._speech("".concat(e3._i18n.v("builtElementsOFF"))), n2(t2.builtElementsOff);
          }), i2(t2.reset, function() {
            e3._speech("".concat(e3._i18n.v("resetSettings"))), v(e3._config, function(t3) {
              e3._setAttrDataBviBody(t3, e3._config[t3]), d(t3, e3._config[t3]), r2();
            });
          }), f(t2.links, function(n3) {
            i2(n3, function(n4) {
              var i3 = n4.target.getAttribute("data-bvi");
              "close" === i3 && (e3._setAttrDataBviBody("panelActive", "false"), d("panelActive", "false"), e3._init()), "modal" === i3 && (document.body.style.overflow = "hidden", document.body.classList.add("bvi-noscroll"), t2.modal.classList.toggle("show")), "modal-close" === i3 && (document.body.classList.remove("bvi-noscroll"), document.body.style.overflow = "", t2.modal.classList.remove("show")), "panel-hide" === i3 && (document.querySelector(".bvi-panel").classList.add("bvi-panel-hide"), document.querySelector(".bvi-link-fixed-top").classList.remove("bvi-hide"), document.querySelector(".bvi-link-fixed-top").classList.add("bvi-show"), d("panelHide", "true"), e3._speech("".concat(e3._i18n.v("panelHide")))), "panel-show" === i3 && (document.querySelector(".bvi-link-fixed-top").classList.remove("bvi-show"), document.querySelector(".bvi-link-fixed-top").classList.add("bvi-hide"), document.querySelector(".bvi-panel").classList.remove("bvi-panel-hide"), d("panelHide", "false"), e3._speech("".concat(e3._i18n.v("panelShow"))));
            });
          }), i2(t2.modal, function(e4) {
            e4.target.contains(t2.modal) && (document.body.classList.remove("bvi-noscroll"), document.body.style.overflow = "", t2.modal.classList.remove("show"));
          });
        } }, { key: "_getPanel", value: function() {
          var e3 = function() {
            var e4 = void 0 !== window.pageYOffset ? window.pageYOffset : (document.documentElement || document.body.parentNode || document.body).scrollTop;
            l(m("panelFixed")) && (e4 > 200 ? document.querySelector(".bvi-panel").classList.add("bvi-fixed-top") : document.querySelector(".bvi-panel").classList.remove("bvi-fixed-top"));
          }, t2 = l(m("panelHide")) ? " bvi-panel-hide" : "", n2 = l(m("panelHide")) ? "bvi-show" : " bvi-hide", i2 = "\n    <div class='bvi-panel".concat(t2, `'>
        <div class="bvi-blocks bvi-block-center">
            <div class="bvi-block">
                <div class="bvi-block-title">`).concat(this._i18n.t("fontSize"), '</div>\n                <a class="bvi-link bvi-fontSize-minus">А-</a>\n                <a class="bvi-link bvi-fontSize-plus">А+</a>\n            </div>\n            <div class="bvi-block">\n                <div class="bvi-block-title">').concat(this._i18n.t("siteColors"), '</div>\n                <a href="#" class="bvi-link bvi-theme-white">Ц</a>\n                <a href="#" class="bvi-link bvi-theme-black">Ц</a>\n                <a href="#" class="bvi-link bvi-theme-blue">Ц</a>\n                <a href="#" class="bvi-link bvi-theme-brown">Ц</a>\n                <a href="#" class="bvi-link bvi-theme-green">Ц</a>\n            </div>\n            <div class="bvi-block">\n                <div class="bvi-block-title">').concat(this._i18n.t("images"), '</div>\n                <a href="#" class="bvi-link bvi-images-on">\n                    <i class="bvi-images bvi-images-image"></i>\n                </a>\n                <a href="#" class="bvi-link bvi-images-off">\n                    <i class="bvi-images bvi-images-minus-circle"></i>\n                </a>\n                <a href="#" class="bvi-link bvi-images-grayscale">\n                    <i class="bvi-images bvi-images-adjust"></i>\n                </a>\n            </div>\n            <div class="bvi-block">\n                <div class="bvi-block-title">').concat(this._i18n.t("speech"), '</div>\n                <a href="#" class="bvi-link bvi-speech-off">\n                    <i class="bvi-images bvi-images-volume-off"></i>\n                </a>\n                <a href="#" class="bvi-link bvi-speech-on">\n                    <i class="bvi-images bvi-images-volume-up"></i>\n                </a>\n            </div>\n            <div class="bvi-block">\n                <div class="bvi-block-title">').concat(this._i18n.t("settings"), '</div>\n                <a href="#" class="bvi-link" data-bvi="modal">\n                    <i class="bvi-images bvi-images-cog"></i>\n                </a>\n                <a href="#" class="bvi-link" data-bvi="close">\n                    ').concat(this._i18n.t("regularVersionOfTheSite"), '\n                </a>\n                <a href="#" class="bvi-link" data-bvi="panel-hide">\n                    <i class="bvi-images bvi-images-minus"></i>\n                </a>\n            </div>\n        </div>\n        <div class="bvi-modal">\n            <div class="bvi-modal-dialog">\n                <div class="bvi-modal-content">\n                    <div class="bvi-modal-header">\n                        <div class="bvi-modal-title">').concat(this._i18n.t("settings"), '</div>\n                        <a href="#" class="bvi-link bvi-modal-close" data-bvi="modal-close">×</a>\n                    </div>\n                    <div class="bvi-modal-body">\n                        <div class="bvi-blocks bvi-block-center">\n                            <div class="bvi-block">\n                                <div class="bvi-block-title">').concat(this._i18n.t("letterSpacing"), '</div>\n                                <a href="#" class="bvi-link bvi-letter-spacing-normal">').concat(this._i18n.t("normal"), '</a>\n                                <a href="#" class="bvi-link bvi-letter-spacing-average">').concat(this._i18n.t("average"), '</a>\n                                <a href="#" class="bvi-link bvi-letter-spacing-big">').concat(this._i18n.t("big"), '</a>\n                            </div>\n                            <div class="bvi-block">\n                                <div class="bvi-block-title">').concat(this._i18n.t("lineHeight"), '</div>\n                                <a href="#" class="bvi-link bvi-line-height-normal">').concat(this._i18n.t("normal"), '</a>\n                                <a href="#" class="bvi-link bvi-line-height-average">').concat(this._i18n.t("average"), '</a>\n                                <a href="#" class="bvi-link bvi-line-height-big">').concat(this._i18n.t("big"), '</a>\n                            </div>\n                            <div class="bvi-block">\n                                <div class="bvi-block-title">').concat(this._i18n.t("font"), '</div>\n                                <a href="#" class="bvi-link bvi-font-family-arial">').concat(this._i18n.t("arial"), '</a>\n                                <a href="#" class="bvi-link bvi-font-family-times">').concat(this._i18n.t("times"), '</a>\n                            </div>\n                            <div class="bvi-block">\n                                <div class="bvi-block-title">').concat(this._i18n.t("builtElements"), '</div>\n                                <a href="#" class="bvi-link bvi-built-elements-on">').concat(this._i18n.t("on"), '</a>\n                                <a href="#" class="bvi-link bvi-built-elements-off">').concat(this._i18n.t("off"), '</a>\n                            </div>\n                        </div>\n                        <div class="bvi-blocks bvi-block-center">\n                            <a href="https://bvi.isvek.ru" class="bvi-copyright" target="_blank">bvi.isvek.ru</a>\n                        </div>\n                    </div>\n                    <div class="bvi-modal-footer">\n                        <a href="#" class="bvi-link bvi-reset">').concat(this._i18n.t("reset"), "</a>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>"), r2 = '<a href="#" class="bvi-link bvi-link-fixed-top bvi-no-styles '.concat(n2, '" data-bvi="panel-show">') + '<i class="bvi-images bvi-images-eye bvi-images-size-32 bvi-no-styles"></i></a>';
          window.addEventListener("scroll", e3), document.querySelector(".bvi-body").insertAdjacentHTML("beforebegin", i2), document.querySelector(".bvi-body").insertAdjacentHTML("afterbegin", r2), e3();
        } }, { key: "_set", value: function() {
          var e3 = this;
          document.body.classList.add("bvi-active"), s(document.body, "div", "bvi-body"), v(this._config, function(t2) {
            return e3._setAttrDataBviBody(t2, m(t2));
          }), f(this._elements, function(e4) {
            return e4.style.display = "none";
          }), document.querySelectorAll("img").forEach(function(e4) {
            e4.classList.contains("bvi-img") && e4.classList.remove("bvi-img");
          }), document.querySelectorAll("body *").forEach(function(e4) {
            e4.classList.contains("bvi-background-image") && e4.classList.remove("bvi-background-image");
          });
        } }, { key: "_remove", value: function() {
          var e3 = document.querySelector(".bvi-panel"), t2 = document.querySelector(".bvi-body"), n2 = document.querySelector(".bvi-link-fixed-top");
          e3 && e3.remove(), t2 && u(t2), n2 && n2.remove(), this._speech("".concat(this._i18n.v("panelOff"))), document.body.classList.remove("bvi-active"), f(this._elements, function(e4) {
            return e4.style.display = "";
          }), l(m("reload")) && document.location.reload(), v(this._config, function(e4) {
            b(e4);
          }), this._speechPlayer(), b("panelActive");
        } }, { key: "_images", value: function() {
          document.querySelectorAll("img").forEach(function(e3) {
            e3.classList.contains("bvi-no-style") || e3.classList.add("bvi-img");
          }), document.querySelectorAll(".bvi-body *").forEach(function(e3) {
            var t2 = getComputedStyle(e3);
            "none" === t2.backgroundImage || "none" === t2.background || e3.classList.contains("bvi-no-style") || e3.classList.add("bvi-background-image");
          });
        } }, { key: "_getConfig", value: function(e3) {
          e3 = t(t({}, y), e3);
          var i2 = {};
          for (var r2 in y) i2[r2] = e3[r2];
          return function(e4, t2, i3) {
            Object.keys(t2).forEach(function(i4) {
              var r3, o2 = t2[i4], a2 = e4[i4], c2 = a2 && (r3 = a2) && "object" === n(r3) && void 0 !== r3.nodeType ? "element" : function(e5) {
                return null == e5 ? "".concat(e5) : {}.toString.call(e5).match(/\s([a-z]+)/i)[1].toLowerCase();
              }(a2);
              if (!new RegExp(o2).test(c2)) throw new TypeError('Bvi console: Опция "'.concat(i4, '" предоставленный тип "').concat(c2, '", ожидаемый тип "').concat(o2, '".'));
            }), Object.keys(i3).forEach(function(t3) {
              var n2 = i3[t3], r3 = e4[t3];
              if (!new RegExp(n2).test(r3)) throw new TypeError('Bvi console: Опция "'.concat(t3, '" параметр "').concat(r3, '", ожидаемый параметр "').concat(n2, '".'));
            });
          }(i2, S, _), i2;
        } }, { key: "_setAttrDataBviBody", value: function() {
          var e3 = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : "", t2 = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : "";
          document.querySelector(".bvi-body").setAttribute("data-bvi-".concat(e3), t2);
        } }, { key: "_speechPlayer", value: function() {
          var e3 = this, t2 = document.querySelectorAll(".bvi-speech-text"), n2 = document.querySelectorAll(".bvi-speech-link"), i2 = document.querySelectorAll(".bvi-speech");
          if ("speechSynthesis" in window && l(m("speech"))) {
            if (i2) {
              t2 && t2.forEach(function(e4) {
                return u(e4);
              }), n2 && n2.forEach(function(e4) {
                return e4.remove();
              }), i2.forEach(function(e4, t3) {
                var n3 = "bvi-speech-text-id-".concat(t3 + 1);
                s(e4, "div", "bvi-speech-text ".concat(n3)), e4.insertAdjacentHTML("afterbegin", '\n            <div class="bvi-speech-link">\n              <a href="#" class="bvi-link bvi-speech-play" title="Воспроизвести">Воспроизвести</a>\n              <a href="#" class="bvi-link bvi-speech-pause disabled" title="Пауза">Пауза</a>\n              <a href="#" class="bvi-link bvi-speech-resume disabled" title="Продолжить">Продолжить</a>\n              <a href="#" class="bvi-link bvi-speech-stop disabled" title="Стоп">Стоп</i></a>\n          </div>');
              });
              var r2 = document.querySelectorAll(".bvi-speech-play"), o2 = document.querySelectorAll(".bvi-speech-pause"), a2 = document.querySelectorAll(".bvi-speech-resume"), c2 = document.querySelectorAll(".bvi-speech-stop"), v2 = function(e4, t3) {
                e4.forEach(function(e5) {
                  e5.addEventListener("click", function(n3) {
                    if (n3.preventDefault(), "function" == typeof t3) return t3(e5, n3);
                  }, false);
                });
              };
              v2(r2, function(t3, n3) {
                var i3 = n3.target, r3 = i3.parentNode.nextElementSibling, o3 = n3.target.closest(".bvi-speech-link"), a3 = document.querySelectorAll(".bvi-speech-play"), c3 = document.querySelectorAll(".bvi-speech-pause"), l2 = document.querySelectorAll(".bvi-speech-resume"), s2 = document.querySelectorAll(".bvi-speech-stop");
                e3._speech(r3.textContent, r3, true), a3.forEach(function(e4) {
                  return e4.classList.remove("disabled");
                }), c3.forEach(function(e4) {
                  return e4.classList.add("disabled");
                }), l2.forEach(function(e4) {
                  return e4.classList.add("disabled");
                }), s2.forEach(function(e4) {
                  return e4.classList.add("disabled");
                }), i3.classList.add("disabled"), o3.querySelector(".bvi-speech-pause").classList.remove("disabled"), o3.querySelector(".bvi-speech-stop").classList.remove("disabled");
              }), v2(o2, function(e4, t3) {
                var n3 = t3.target, i3 = t3.target.closest(".bvi-speech-link");
                n3.classList.add("disabled"), i3.querySelector(".bvi-speech-resume").classList.remove("disabled"), h().pause();
              }), v2(a2, function(e4, t3) {
                var n3 = t3.target, i3 = t3.target.closest(".bvi-speech-link");
                n3.classList.add("disabled"), i3.querySelector(".bvi-speech-pause").classList.remove("disabled"), h().resume();
              }), v2(c2, function(e4, t3) {
                var n3 = t3.target, i3 = t3.target.closest(".bvi-speech-link");
                n3.classList.add("disabled"), i3.querySelector(".bvi-speech-pause").classList.add("disabled"), i3.querySelector(".bvi-speech-play").classList.remove("disabled"), h().cancel();
              });
            }
          } else t2 && t2.forEach(function(e4) {
            return u(e4);
          }), n2 && n2.forEach(function(e4) {
            return e4.remove();
          });
        } }, { key: "_speech", value: function(e3, t2) {
          var n2 = this, i2 = arguments.length > 2 && void 0 !== arguments[2] && arguments[2];
          if ("speechSynthesis" in window && l(m("speech"))) {
            h().cancel();
            for (var r2 = function(e4, t3) {
              e4 = String(e4), t3 = Number(t3) >>> 0;
              var n3 = e4.slice(0, t3 + 1).search(/\S+$/), i3 = e4.slice(t3).search(/\s/);
              return i3 < 0 ? e4.slice(n3) : e4.slice(n3, i3 + t3);
            }, o2 = 120, a2 = new RegExp("^[\\s\\S]{" + Math.floor(o2 / 2) + "," + o2 + "}[.!?,]{1}|^[\\s\\S]{1," + o2 + "}$|^[\\s\\S]{1," + o2 + "} "), c2 = [], s2 = e3, u2 = h().getVoices(); s2.length > 0; ) c2.push(s2.match(a2)[0]), s2 = s2.substring(c2[c2.length - 1].length);
            c2.forEach(function(e4) {
              var o3 = new SpeechSynthesisUtterance(e4.trim());
              o3.volume = 1, o3.rate = 1, o3.pitch = 1, o3.lang = n2._config.lang;
              for (var a3 = 0; a3 < u2.length; a3++) "ru-RU" === n2._config.lang && "Microsoft Pavel - Russian (Russia)" === u2[a3].name && (o3.voice = u2[a3]), "en-US" === n2._config.lang && "Microsoft Pavel - English (English)" === u2[a3].name && (o3.voice = u2[a3]);
              i2 && (o3.onboundary = function(e5) {
                t2.classList.add("bvi-highlighting");
                var n3 = r2(e5.utterance.text, e5.charIndex), i3 = t2.textContent, o4 = n3.replace(/(\s+)/, "((<[^>]+>)*$1(<[^>]+>)*)"), a4 = new RegExp("(" + o4 + ")", "gi");
                i3 = (i3 = i3.replace(a4, "<mark>$1</mark>")).replace(/(<mark>[^<>]*)((<[^>]+>)+)([^<>]*<\/mark>)/, "$1</mark>$2<mark>$4"), t2.innerHTML = i3;
              }, o3.onend = function(e5) {
                t2.classList.remove("bvi-highlighting");
                var n3 = t2.textContent;
                n3 = n3.replace(/(<mark>$1<\/mark>)/, "$1"), t2.innerHTML = n3;
              }), h().speak(o3);
            });
          }
        } }]), e2;
      }() };
    });
  }
});
export default require_bvi_min();
/*! Bundled license information:

bvi/dist/js/bvi.min.js:
  (*!
    * Button visually impaired - v1.0.0 https://bvi.isvek.ru
    * Copyright 2014-2021 Oleg Korotenko <bvi@isvek.ru>.
    * Licensed MIT (https://github.com/veks/button-visually-impaired-javascript/blob/master/LICENSE.md)
    *)
*/
//# sourceMappingURL=bvi.js.map
